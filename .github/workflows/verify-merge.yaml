# Name should reflect when action occurs
name: Verify PR Can Merge

# Workflow runs when manually triggered using the UI or API
on: pull_request

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  verify-merge:
    runs-on: ubuntu-latest

    steps: 
    - name: Extract branch name
      shell: bash
      run: echo "##[set-output name=branch;]$(echo ${GITHUB_REF#refs/heads/})"
      id: extract_branch

    - name: "TBD: Verify that PR title matches regexp?"
      run: "echo $BRANCH_NAME"
      env:
        BRANCH_NAME: ${{ steps.extract_branch.outputs.branch }}

      # get branch name
      # get prefix from branch name
      # get PR title
      # verify title matches `^<prefix>(optional scope): (\w\s)*